<?xml version="1.0" encoding="US-ASCII"?>
<!-- This template is for creating an Internet Draft using xml2rfc,
     which is available here: http://xml.resource.org. -->
<!DOCTYPE rfc SYSTEM "rfc2629.dtd" [
<!-- One method to get references from the online citation libraries.
     There has to be one entity for each item to be referenced.
     An alternate method (rfc include) is described in the references. -->
<!ENTITY RFC2119 SYSTEM "http://xml.resource.org/public/rfc/bibxml/reference.RFC.2119.xml">
<!ENTITY RFC6241 SYSTEM "http://xml.resource.org/public/rfc/bibxml/reference.RFC.6241.xml">
<!ENTITY RFC7950 SYSTEM "http://xml.resource.org/public/rfc/bibxml/reference.RFC.7950.xml">
<!ENTITY RFC7149 SYSTEM "http://xml.resource.org/public/rfc/bibxml/reference.RFC.7149.xml">
<!ENTITY RFC7426 SYSTEM "http://xml.resource.org/public/rfc/bibxml/reference.RFC.7426.xml">
<!ENTITY RFC8299 SYSTEM "http://xml.resource.org/public/rfc/bibxml/reference.RFC.8299.xml">
<!ENTITY RFC8309 SYSTEM "http://xml.resource.org/public/rfc/bibxml/reference.RFC.8309.xml">
<!ENTITY RFC8340 SYSTEM "http://xml.resource.org/public/rfc/bibxml/reference.RFC.8340.xml">
<!ENTITY RFC8453 SYSTEM "http://xml.resource.org/public/rfc/bibxml/reference.RFC.8453.xml">
<!ENTITY RFC8174 SYSTEM "http://xml.resource.org/public/rfc/bibxml/reference.RFC.8174.xml">
<!ENTITY RFC8345 SYSTEM "http://xml.resource.org/public/rfc/bibxml/reference.RFC.8345.xml">
]>
<?xml-stylesheet type='text/xsl' href='rfc2629.xslt' ?>
<!-- used by XSLT processors -->
<!-- For a complete list and description of processing instructions (PIs),
     please see http://xml.resource.org/authoring/README.html. -->
<!-- Below are generally applicable Processing Instructions (PIs) that most I-Ds might want to use.
     (Here they are set differently than their defaults in xml2rfc v1.32) -->
<?rfc strict="yes" ?>
<!-- give errors regarding ID-nits and DTD validation -->
<!-- control the table of contents (ToC) -->
<?rfc toc="yes"?>
<!-- generate a ToC -->
<?rfc tocdepth="4"?>
<!-- the number of levels of subsections in ToC. default: 3 -->
<!-- control references -->
<?rfc symrefs="yes"?>
<!-- use symbolic references tags, i.e, [RFC2119] instead of [1] -->
<?rfc sortrefs="yes" ?>
<!-- sort the reference entries alphabetically -->
<!-- control vertical white space
     (using these PIs as follows is recommended by the RFC Editor) -->
<?rfc compact="yes" ?>
<!-- do not start each main section on a new page -->
<?rfc subcompact="no" ?>
<!-- keep one blank line between list items -->
<!-- end of list of popular I-D processing instructions -->
<rfc category="std" docName="draft-ietf-opsawg-sap-00" ipr="trust200902">
  <front>
    <title abbrev="SAP Network YANG">A Network YANG Model for Service
    Attachment Points</title>

    <author fullname="Oscar Gonzalez de Dios" initials="O"
            surname="Gonzalez de Dios">
      <organization>Telefonica</organization>

      <address>
        <postal>
          <street></street>

          <city>Madrid</city>

          <region></region>

          <code></code>

          <country>Spain</country>
        </postal>

        <phone></phone>

        <email>oscar.gonzalezdedios@telefonica.com</email>
      </address>
    </author>

    <author fullname="Samier Barguil" initials="S." surname="Barguil">
      <organization>Telefonica</organization>

      <address>
        <postal>
          <street></street>

          <city>Madrid</city>

          <region></region>

          <code></code>

          <country>Spain</country>
        </postal>

        <phone></phone>

        <facsimile></facsimile>

        <email>samier.barguilgiraldo.ext@telefonica.com</email>

        <uri></uri>
      </address>
    </author>

    <author fullname="Qin Wu" initials="Q." surname="Wu">
      <organization>Huawei</organization>

      <address>
        <postal>
          <street>101 Software Avenue, Yuhua District</street>

          <city>Nanjing</city>

          <region>Jiangsu</region>

          <code>210012</code>

          <country>China</country>
        </postal>

        <email>bill.wu@huawei.com</email>
      </address>
    </author>

    <author fullname="Mohamed Boucadair" initials="M." surname="Boucadair">
      <organization>Orange</organization>

      <address>
        <postal>
          <street></street>

          <city></city>

          <region></region>

          <code></code>

          <country>France</country>
        </postal>

        <phone></phone>

        <email>mohamed.boucadair@orange.com</email>
      </address>
    </author>

    <author fullname="Victor Lopez" initials="V." surname="Lopez">
      <organization>Nokia</organization>

      <address>
        <postal>
          <street></street>

          <city></city>

          <region></region>

          <code></code>

          <country>Spain</country>
        </postal>

        <phone></phone>

        <facsimile></facsimile>

        <email>victor.lopez@nokia.com</email>

        <uri></uri>
      </address>
    </author>

    <date year="2022" />

    <area>ops</area>

    <workgroup>OPSAWG</workgroup>

    <keyword>SAP Network YANG</keyword>

    <abstract>
      <t>This document defines a YANG data model for representing an abstract
      view of the provider network topology containing the points from which
      its services can be attached (e.g., basic connectivity, VPN, network
      slices). The data model augments the 'ietf-network' data model by adding
      the concept of service attachment points (SAPs). The service attachment
      points are the points to which network services (such as L3VPN or L2VPN)
      can be attached. The customer endpoint of an attachment circuits are not
      covered in the SAP network topology.</t>
    </abstract>
  </front>

  <middle>
    <section anchor="Introduction" title="Introduction">
      <t>The service attachment point (SAP) is an important architectural
      concept in many implementations and deployments of services such as
      VPNs, SDWAN, or managed VoIP services. It has already been used to
      decide where to attach and, thus, deliver the service in the L3SM <xref
      target="RFC8299"></xref> and the L2SM <xref
      target="RFC8466"></xref>.</t>

      <t>This document defines a YANG network model for representing,
      managing, and controlling the service attachment points (SAPs). The data
      model augments the 'ietf-network' module <xref target="RFC8345"></xref>
      by adding the concept of service attachment points. The service
      attachment points are abstraction of the points where network services
      such as L3VPNs or L2VPNs can be attached.</t>

      <t>This document does not make any assumption about the service provided
      by the network to the users. VPN services are used for illustration
      purposes. This concept can also be used to decide network slice SAPs
      <xref target="I-D.ietf-teas-ietf-network-slices"></xref>.</t>

      <t>In the context of Software-Defined Networking (SDN) <xref
      target="RFC7149"></xref><xref target="RFC7426"></xref>, the defined YANG
      data model in this document can be used to exchange information between
      control elements, so as to support VPN service provision and resource
      management discussed in <xref
      target="I-D.ietf-opsawg-l3sm-l3nm"></xref><xref
      target="I-D.ietf-opsawg-l2nm"></xref>. Through this data model, the
      service orchestration layer can learn the available endpoints (i.e.,
      SAPs) of interconnection resource of the underlying network.</t>

      <t>The service orchestration layer can determine which endpoint of
      interconnection to add to L2VPN or L3VPN service. With the help of other
      data models (e.g., L3SM <xref target="RFC8299"></xref> or L2SM <xref
      target="RFC8466"></xref>), hierarchical control elements could determine
      the feasibility of an end-to-end IP connectivity or L2VPN connectivity
      and therefore derive the sequence of domains and the points of
      interconnection to use.</t>

      <t>This document explains the scope and purpose of a SAP network model
      and its relation with the service models and describes how it can be
      used by a network operator. The document also shows how the topology and
      service models fit together.</t>

      <t>The YANG data model in this document conforms to the Network
      Management Datastore Architecture (NMDA) <xref
      target="RFC8342"></xref>.</t>
    </section>

    <section anchor="terminology" title="Terminology">
      <t>The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
      "SHOULD", "SHOULD NOT", "RECOMMENDED", "NOT RECOMMENDED", "MAY", and
      "OPTIONAL" in this document are to be interpreted as described in BCP 14
      [RFC2119] [RFC8174] when, and only when, they appear in all capitals, as
      shown here.</t>

      <t>This document assumes that the reader is familiar with the contents
      of <xref target="RFC6241"></xref>, <xref target="RFC7950"></xref>, and
      <xref target="RFC8309"></xref>. The document uses terms from those
      documents.</t>

      <t>Tree diagrams used in this document follow the notation defined in
      [RFC8340].</t>

      <t>This document uses the term "network model" defined in Section 2.1 of
      <xref target="RFC8969"></xref>.</t>

      <t>This document uses the following terms:<list style="hanging">
          <t hangText="Service Provider (SP): ">The organization responsible
          for operating the network that offers a service (e.g., a VPN) to
          customers.</t>

          <t hangText="Customer Edge (CE): ">An equipment that is dedicated to
          a particular customer and is directly connected to one or more
          Provider Edges (PEs) via attachment circuits (ACs). A CE is usually
          located at the customer premises. A CE may be dedicated to a single
          service (e.g., L3VPN), although it may support multiple VPNs if each
          one has separate attachment circuits. A CE can be a router, bridge,
          switch, etc.</t>

          <t hangText="Provider Edge (PE): ">An equipment owned and managed by
          the SP that can support multiple services (e.g., VPNs) for different
          customers. A PE is directly connected to one or more CEs via
          attachment circuits. A PE is usually located at an SP point of
          presence (PoP).</t>

          <t hangText="Attachment point (AP):  ">Describes a service's end
          point characteristics and its reference to a Termination Point (TP)
          of the PE; used as service access point for service.</t>
        </list></t>
    </section>

    <section title="SAP Network Model Usage">
      <t>Management operations of a service provider network can be automated
      using a variety of means such as interfaces based on YANG modules <xref
      target="RFC8969"></xref>. From that standpoint, and considering the
      architecture depicted in <xref target="fi1"></xref>, the goal of this
      document is to provide a mechanism to show via a YANG-based interface an
      abstracted network view from the network controller to the service
      orchestration layer with a focus on where a service can be delivered to
      customers.</t>

      <figure align="center" anchor="fi1" title="SAP Network Model Usage">
        <artwork align="left"><![CDATA[                            +-----------------+
                            |     Customer    |
                            +--------+--------+
            Customer Service Models  |
                                     |
                            +--------+--------+
                            |    Service      |
                            |  Orchestration  |
                            +------+---+------+
            Service Network Models |   | SAP Network Model
                                   |   |
                            +------+---+------+
                            |     Network     |
                            |   Controller    |
                            +--------+--------+
                                     |
               +---------------------+---------------------+
               |                  Network                  |
               +-------------------------------------------+
]]></artwork>
      </figure>

      <t>Let us consider the example of a typical service provider network
      (<xref target="fi2"></xref>), with PE and P nodes.</t>

      <t><figure align="center" anchor="fi2" title="Sample Network Topology">
          <artwork align="center"><![CDATA[+---------+         +---------+
|   PE1   |         |   PE2   |
+---------+         +---------+
           \       /
           +------+
           |  P   |
           +------+
          /        \
+---------+         +---------+
|   PE3   |         |   PE4   |
+---------+         +---------+]]></artwork>
        </figure></t>

      <t>The Service Orchestration layer does not need to know about the
      internals of the underlying network (e.g., P nodes). <xref
      target="fi2a"></xref> shows the abstract network view as seen by the
      Service Orchestrator. However, this view is not enough to provide to the
      Service Orchestration layer the information to create services in the
      network. The service topology need is to be able to expose the set of
      nodes and the attachment points associated with the nodes from which
      network services can be grafted (delivered).</t>

      <t><figure align="center" anchor="fi2a"
          title="Abstract Network Topology">
          <artwork align="center"><![CDATA[+---------+         +---------+
|   PE1   |         |   PE2   |
+---------+         +---------+
                                         

+---------+         +---------+
|   PE3   |         |   PE4   |
+---------+         +---------+]]></artwork>
        </figure></t>

      <t>The Service Orchestration layer would see a set of PEs and a set of
      client-facing interfaces (physical or logical) to which CEs can be
      connected (or are actually connected). The Service Orchestration layer
      can use them to setup the requested services or to commit the delivery
      of a service. <xref target="fi3"></xref> depicts the SAP network
      topology that is maintained by the network controller and exposed to the
      Service Orchestration.</t>

      <figure align="center" anchor="fi3" title="SAP Network Topology">
        <artwork align="center"><![CDATA[           .---. .---. .---.              .---.       .---.   
         +-|sap|-|sap|-|sap|-+          +-|sap|-------|sap|-+  
         | '---' '---' '---' |          | '---'       '---' |
       .---.                 |          |                   |
       |sap|      PE1        |          |         PE2       |
       '---'                 |          |                   |
         |                   |          |                   |
         +-------------------+          +-------------------+
                                                   
                                                   
         +-------------------+          +-------------------+
         |                   |          |                   |
         |                   |          |                 .---.
         |         PE3       |          |        PE4      |sap|
         |                   |          |                 '---'
         | .---. .---. .---. |          | .---. .---. .---. |  
         +-|sap|-|sap|-|sap|-+          +-|sap|-|sap|-|sap|-+  
           '---' '---' '---'              '---' '---' '---'      
]]></artwork>
      </figure>

      <t>A single SAP network topology can be used for one of multiple service
      types (e.g., L3VPN, EVPN). The network controller can then expose the
      service type(s) and associated interfaces via the SAPs.</t>

      <t>As shown in <xref target="fi3a"></xref>, the Service Orchestration
      layer will have also access to a set of Customer Service Model, e.g., an
      L3SM or L2SM data model in the customer-facing interface and a set of
      network models, e.g., L3NM and Network topology data models in the
      resource-facing interface. In this use case, it is assumed that the
      network controller is unaware of what happens beyond the PEs towards the
      CEs; it is only responsible for the management and control of the
      network between PEs.</t>

      <t><figure align="center" anchor="fi3a"
          title="Network Topology with CEs and ACs">
          <artwork align="center"><![CDATA[                                                      .---.
                                                      |CE2|
                                                      '-+-'
                                                        | 
           .---. .---. .---.              .---.       .-+-.   
         +-|sap|-|sap|-|sap|-+          +-|sap|-------|sap|-+  
         | '---' '---' '---' |          | '---'       '---' |
.---.  .---.                 |          |                   |
|CE1+--+sap|      PE1        |          |         PE2       |
'---'  '---'                 |          |                   |
         |                   |          |                   |
         +-------------------+          +-------------------+
                                                   
                                                   
         +-------------------+          +-------------------+
         |                   |          |                   |
         |                   |          |                 .---.  .---.
         |         PE3       |          |        PE4      |sap+--+CE5|
         |                   |          |                 '---'  '---'
         | .---. .---. .---. |          | .---. .---. .---. |  
         +-|sap|-|sap|-|sap|-+          +-|sap|-|sap|-|sap|-+  
           '---' '---' '-+-'              '---' '---' '---'   
                         |                        | 
                       .-+-.                    .-+-.
                       |CE3|                    |CE4|
                       '-+-'                    '-+-'   
]]></artwork>
        </figure></t>

      <t></t>
    </section>

    <section title="SAP Module Tree Structure">
      <t>The SAP network model builds on the network data model defined in the
      'ietf-network' module <xref target="RFC8345"></xref>, augmenting the
      nodes with service attachment points, which anchor the links and are
      contained in nodes. The 'service-attachment-point' attribute defined in
      the SAP network model is not a tunnel termination point (TTP) nor a
      link, but an abstraction of the termination point defined in <xref
      target="RFC8345"></xref>.</t>

      <t>The structure of the 'ietf-sap-ntw' module is shown in <xref
      target="fi4"></xref>.</t>

      <figure anchor="fi4" title="YANG Module Structure">
        <artwork><![CDATA[module: ietf-sap-ntw
  augment /nw:networks/nw:network/nw:network-types:
    +--rw sap-network!
       +--rw sap-type*   identityref
  augment /nw:networks/nw:network/nw:node:
    +--rw service-attachment-point* [attachment-id]
       +--rw attachment-id          nt:tp-id
       +--ro interface-type?        identityref
       +--rw admin-status?          boolean
       +--rw oper-status?           boolean
       +--rw encapsulation-type?    identityref
       +--rw sap-type*              identityref
       +--rw service-description?   string]]></artwork>
      </figure>

      <t>A SAP network topology can be used for one single service type or
      multiple types ("sap-type"). When a SAP topology is used for many
      service types, the underlying nodes must support at least one of these
      service types. Examples of supported service types are listed below:
      <list style="symbols">
          <t>L3VPN,</t>

          <t>Virtual Private LAN Service (VPLS) using BGP <xref
          target="RFC4761"></xref>,</t>

          <t><xref target="RFC4762">VPLS using Label Distribution Protocol
          (LDP)</xref>,</t>

          <t><xref target="RFC8214">Virtual Private Wire Service
          (VPWS)</xref>,</t>

          <t><xref target="RFC7432">BGP MPLS-Based Ethernet VPN</xref>,</t>

          <t><xref target="RFC8365">Ethernet VPN (EVPN)</xref>,</t>

          <t><xref target="RFC7623">Provider Backbone Bridging Combined with
          Ethernet VPN (PBB-EVPN)</xref>,</t>

          <t>Virtual Networks <xref target="RFC8453"></xref>,</t>

          <t>Enhanced VPN (VPN+) <xref
          target="I-D.ietf-teas-enhanced-vpn"></xref>, and</t>

          <t>Network slice <xref
          target="I-D.ietf-teas-ietf-network-slices"></xref>.</t>
        </list></t>

      <t>A service attachment point is identified by an interface name
      ("attachment-id"), an interface type ("type"), a status ("admin-status",
      and "oper-status"), an encapsulation type ("encapsulation-type"), one or
      a list of service types ("sap-type") such as L3VPN or network slice, a
      description of the service(s) ("service-description").</t>
    </section>

    <section title="Relation with other Models">
      <t>The SAP network model can be seen as an inventory data associated
      with service attachment points. The model maintains an inventory of
      nodes contained in a network based on [RFC8345].</t>

      <figure anchor="fig5"
              title="Relation of SAP Network Model to Other Models">
        <artwork><![CDATA[                +-------------------------+
                |                         |
                |  Abstract Network Model |
                |                         |
                +------------+------------+
                             |
                   +---------+---------+
                   |                   |
            +------V------+     +------V------+
            |  Abstract   |     |  Inventory  |
            |  Network    |     |   Model(s)  |
            |  Topology   |     |   e.g.,SAP  |
            |   Model     |     |   Network   |
            |             |     |    Model    |
            +-----+-------+     +-------------+
                  |
      +-----------+-----------+
      |           |           |
 +----V----+ +----V----+ +----V----+
 |TE Topo  | |L3 Topo  | |L2 Topo  |
 |  Model  | |  Model  | |  Model  | ...
 +---------+ +---------+ +---------+]]></artwork>
      </figure>

      <t><xref target="fig5"></xref> depicts the relationship of the SAP
      network model to other models. The SAP network model augments from the
      Network model <xref target="RFC8345"></xref> and imports Network
      Topology model, while other technology-specific topology models (e.g.,
      TE Topologies model <xref target="RFC8795"></xref> or L3 Topology model
      <xref target="RFC8346"></xref>) augment from the Network Topology.</t>
    </section>

    <section title="SAP YANG Module">
      <t>This module imports types from <xref target="RFC8343"></xref>, <xref
      target="RFC8345"></xref>, and <xref
      target="I-D.ietf-opsawg-vpn-common"></xref>.</t>

      <figure>
        <artwork><![CDATA[<CODE BEGINS>  file "ietf-sap-ntw@2021-10-16.yang"
module ietf-sap-ntw {
  yang-version 1.1;
  namespace "urn:ietf:params:xml:ns:yang:ietf-sap-ntw";
  prefix sap;

  import ietf-interfaces {
    prefix if;
    reference
      "RFC 8343: A YANG Data Model for Interface Management";
  }
  import ietf-network-topology {
    prefix nt;
    reference
      "RFC 8345: A YANG Data Model for Network
                 Topologies, Section 6.2";
  }
  import ietf-network {
    prefix nw;
    reference
      "RFC 8345: A YANG Data Model for Network
                 Topologies, Section 6.1";
  }
  import ietf-vpn-common {
    prefix vpn-common;
    reference
      "RFC UUUU: A Layer 2/3 VPN Common YANG Model";
  }

  organization
    "IETF OPSA (Operations and Management Area) Working Group ";
  contact
    "Editor:   Oscar Gonzalez de Dios
               <mailto:oscar.gonzalezdedios@telefonica.com>
     Editor:   Samier Barguil
               <mailto:samier.barguilgiraldo.ext@telefonica.com>
     Editor:   Qin Wu
               <mailto:bill.wu@huawei.com>
     Editor:   Mohamed Boucadair
               <mailto:mohamed.boucadair@orange.com>";
  description
    "This YANG module defines a model for representing, managing,
     and controlling the Service Attachment Points (SAPs) in the
     network topology.

     Copyright (c) 2021 IETF Trust and the persons identified as
     authors of the code.  All rights reserved.

     Redistribution and use in source and binary forms, with or
     without modification, is permitted pursuant to, and subject to
     the license terms contained in, the Simplified BSD License set
     forth in Section 4.c of the IETF Trust's Legal Provisions
     Relating to IETF Documents
     (https://trustee.ietf.org/license-info).

     This version of this YANG module is part of RFC XXXX
     (https://www.rfc-editor.org/info/rfcXXXX); see the RFC itself
     for full legal notices.";

  revision 2021-10-16 {
    description
      "Initial version";
    reference
      "RFC XXXX: A Network YANG Model for Service Attachment
                 Point (SAP)";
  }

  identity service-type {
    description
      "Base identity for the service type.";
  }

  identity l3vpn {
    base service-type;
    description
      "L3VPN service.";
    reference
      "RFC 4364: BGP/MPLS IP Virtual Private Networks (VPNs)";
  }

  identity enhanced-vpn {
    base service-type;
    description
      "Enhanced VPN (VPN+). VPN+ is an approach that is
       based on existing VPN and Traffic Engineering (TE) 
       technologies but adds characteristics that specific
       services require over and above traditional VPNs.";
    reference
      "I-D.ietf-teas-enhanced-vpn: 
         A Framework for Enhanced Virtual Private Network
         (VPN+) Services";
  }

  identity network-slice {
    base service-type;
    description
      "IETF network slice. An IETF network slice
       is a logical network topology connecting a number of
       endpoints using a set of shared or dedicated network
       resources that are used to satisfy specific service
       objectives.";
    reference
      "I-D.ietf-teas-ietf-network-slices:
         Framework for IETF Network Slices";
  }

  identity vpls {
    base service-type;
    description
      "VPLS service.";
    reference
      "RFC 4761: Virtual Private LAN Service (VPLS) Using BGP for
                 Auto-Discovery and Signaling
       RFC 4762: Virtual Private LAN Service (VPLS) Using Label
                 Distribution Protocol (LDP) Signaling";
  }

  identity vpws {
    base service-type;
    description
      "Virtual Private Wire Service (VPWS) service.";
    reference
      "RFC 4664: Framework for Layer 2 Virtual Private Networks
                 (L2VPNs), Section 3.1.1";
  }
  
  identity vpws-evpn {
    base service-type;
    description
      "EVPN used to support VPWS service.";
    reference
      "RFC 8214: Virtual Private Wire Service Support in Ethernet VPN";
  }

  identity pbb-evpn {
    base service-type;
    description
      "Provider Backbone Bridging (PBB) EVPNs service.";
    reference
      "RFC 7623: Provider Backbone Bridging Combined with Ethernet VPN
                 (PBB-EVPN)";
  }

  identity mpls-evpn {
    base service-type;
    description
      "MPLS-based EVPN service.";
    reference
      "RFC 7432: BGP MPLS-Based Ethernet VPN";
  }

  identity vxlan-evpn {
    base service-type;
    description
      "VXLAN-based EVPN service.";
    reference
      "RFC 8365: A Network Virtualization Overlay Solution Using
                 Ethernet VPN (EVPN)";
  }

  identity virtual-network {
    base service-type;
    description
      "Virtual network.";
    reference
      "RFC 8453: Framework for Abstraction and Control of TE
                 Networks (ACTN)";
  }

  /*
   Other network service types may be added.      
   */

  grouping sap-information {
    description
      "Service Attachment Point (SAP) information.";
    list service-attachment-point {
      key "attachment-id";
      description
        "The service attachment points are abstraction of
         the points where network services such as L3VPNs,
         L2VPNs, or network slices can be attached.";
      leaf attachment-id {
        type nt:tp-id;
        description
          "Indicates the name of the interface.";
      }
      leaf interface-type {
        type identityref {
          base if:interface-type;
        }
        config false;
        description
          "The type of the interface.";
      }
      leaf admin-status {
        type boolean;
        description
          "Indicates the administrative status of the SAP.";
      }
      leaf oper-status {
        type boolean;
        description
          "Indicates the operational status.";
      } 
      leaf encapsulation-type {
        type identityref {
          base vpn-common:encapsulation-type;
        }
        description
          "Encapsulation type.";
      }
      leaf-list sap-type {
        type identityref {
          base service-type;
        }
        description
          "SAP type.";
      }
      leaf service-description {
        type string;
        description
          "A textual description of the service(s).";
      }
    }
  }

  augment "/nw:networks/nw:network/nw:network-types" {
    description
      "Introduces a new network type for SAP network.";
    container sap-network {
      presence "Indicates SAP Network Type.";
      description
        "The presence of the container node indicates the 
         SAP network type.";
      leaf-list sap-type {
        type identityref {
          base service-type;
        }
        description
          "Indicates a service type.";
      }
    }
  }

  augment "/nw:networks/nw:network/nw:node" {
    description
      "Parameters for the service attachment point level.";
    uses sap-information;
  }
}
<CODE ENDS>]]></artwork>
      </figure>
    </section>

    <section anchor="IANA" title="IANA Considerations">
      <t>This document registers the following namespace URI in the "ns"
      subregistry within the "IETF XML Registry" [RFC3688]: <figure>
          <artwork><![CDATA[    URI: urn:ietf:params:xml:ns:yang:ietf-sap-ntw
    Registrant Contact: The IESG.
    XML: N/A, the requested URI is an XML namespace.
]]></artwork>
        </figure></t>

      <t>This document registers the following YANG module in the YANG Module
      Names registry [RFC6020] within the "YANG Parameters" registry: <figure>
          <artwork><![CDATA[    name: ietf-sap-ntw
    namespace: urn:ietf:params:xml:ns:yang:ietf-sap-ntw
    maintained by IANA: N
    prefix: sap
    reference: RFC XXXX
]]></artwork>
        </figure></t>
    </section>

    <section anchor="scecurity" title="Security Considerations">
      <t>The YANG module specified in this document defines schema for data
      that is designed to be accessed via network management protocols such as
      NETCONF <xref target="RFC6241"></xref> or RESTCONF <xref
      target="RFC8040"></xref>. The lowest NETCONF layer is the secure
      transport layer, and the mandatory-to-implement secure transport is
      Secure Shell (SSH) <xref target="RFC6242"></xref>. The lowest RESTCONF
      layer is HTTPS, and the mandatory-to-implement secure transport is TLS
      <xref target="RFC8446"></xref>.</t>

      <t>The Network Configuration Access Control Model (NACM) <xref
      target="RFC8341"></xref> provides the means to restrict access for
      particular NETCONF or RESTCONF users to a preconfigured subset of all
      available NETCONF or RESTCONF protocol operations and content.</t>

      <t>There are a number of data nodes defined in this YANG module that are
      writable/creatable/deletable (i.e., config true, which is the default).
      These data nodes may be considered sensitive or vulnerable in some
      network environments. Write operations (e.g., edit-config) to these data
      nodes without proper protection can have a negative effect on network
      operations. These are the subtrees and data nodes and their
      sensitivity/vulnerability: <list style="symbols">
          <t>/nw:networks/nw:network/nw:node/sap:service-attachment-point/
          sap:attachment-id</t>
        </list></t>

      <t>This subtree specifies the configurations of the nodes in a SAP
      network model. Unexpected changes to this subtree could lead to service
      disruption and/or network misbehavior.</t>

      <t>Some of the readable data nodes in this YANG module may be considered
      sensitive or vulnerable in some network environments. It is thus
      important to control read access (e.g., via get, get-config, or
      notification) to these data nodes. These are the subtrees and data nodes
      and their sensitivity/vulnerability:<list style="symbols">
          <t>/nw:networks/nw:network/nw:node/sap:service-attachment-point<vspace
          blankLines="1" />Unauthorized access to this subtree can disclose
          the operational state information of the nodes in a SAP network
          model.</t>
        </list></t>

      <t></t>
    </section>

    <section anchor="Acknowledgements" title="Acknowledgements">
      <t>Thanks to Adrian Farrell and Daniel King for the suggestions on the
      names used in a previous version.</t>
    </section>
  </middle>

  <back>
    <references title="Normative References">
      <?rfc include="reference.RFC.2119"?>

      <?rfc include="reference.RFC.3688"?>

      <?rfc include="reference.RFC.6020"?>

      <?rfc include="reference.RFC.6241"?>

      <?rfc include="reference.RFC.6242"?>

      <?rfc include="reference.RFC.7950"?>

      <?rfc include="reference.RFC.8040"?>

      <?rfc include="reference.RFC.8174"?>

      <?rfc include="reference.RFC.8341"?>

      <?rfc include="reference.RFC.8345"?>

      <?rfc include="reference.RFC.8346"?>

      <?rfc include="reference.RFC.8446"?>

      <?rfc include="reference.RFC.8795"?>

      <?rfc include='reference.I-D.ietf-opsawg-vpn-common'?>
    </references>

    <references title="Informative References">
      <?rfc include="reference.RFC.7149"?>

      <?rfc include="reference.RFC.7426"?>

      <?rfc include="reference.RFC.8299"?>

      <?rfc include='reference.RFC.8466'?>

      <?rfc include="reference.RFC.8309"?>

      <?rfc include="reference.RFC.8340"?>

      <?rfc include="reference.RFC.8342"?>

      <?rfc include="reference.RFC.8343"?>

      <?rfc include='reference.I-D.ietf-opsawg-l3sm-l3nm'?>

      <?rfc include='reference.I-D.ietf-opsawg-l2nm'?>

      <?rfc include='reference.RFC.8969'?>

      <?rfc include='reference.I-D.ietf-teas-ietf-network-slices'?>

      <?rfc include='reference.I-D.ietf-teas-enhanced-vpn'?>

      <?rfc include='reference.RFC.4364'?>

      <?rfc include='reference.RFC.4761'?>

      <?rfc include='reference.RFC.4762'?>

      <?rfc include='reference.RFC.8214'?>

      <?rfc include='reference.RFC.7623'?>

      <?rfc include='reference.RFC.7432'?>

      <?rfc include='reference.RFC.8365'?>

      <?rfc include='reference.RFC.8453'?>
    </references>
  </back>
</rfc>
