



OPSAWG                                                 M. Boucadair, Ed.
Internet-Draft                                                    Orange
Intended status: Standards Track                     O. Gonzalez de Dios
Expires: 15 August 2022                                       S. Barguil
                                                              Telefonica
                                                                   Q. Wu
                                                                  Huawei
                                                                V. Lopez
                                                                   Nokia
                                                        11 February 2022


       A Network YANG Model for Service Attachment Points (SAPs)
                      draft-ietf-opsawg-sap-latest

Abstract

   This document defines a YANG data model for representing an abstract
   view of the provider network topology containing the points from
   which its services can be attached (e.g., basic connectivity, VPN,
   network slices).  Also, the model can be used to retrieve the points
   where the services are actually being delivered.

   The data model augments the 'ietf-network' data model by adding the
   concept of Service Attachment Points (SAPs).  The Service Attachment
   Points are the points to which network services, such as Layer 3
   Virtual Private Network (L3VPN) or Layer 2 Virtual Private Network
   (L2VPN), can be attached.  Both User-Network Interface (UNI) and
   Network-to-Network Interface (NNI) SAPs are supported in the data
   model.

Status of This Memo

   This Internet-Draft is submitted in full conformance with the
   provisions of BCP 78 and BCP 79.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF).  Note that other groups may also distribute
   working documents as Internet-Drafts.  The list of current Internet-
   Drafts is at https://datatracker.ietf.org/drafts/current/.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   This Internet-Draft will expire on 15 August 2022.




Boucadair, et al.        Expires 15 August 2022                 [Page 1]

Internet-Draft              SAP Network YANG               February 2022


Copyright Notice

   Copyright (c) 2022 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

   This document is subject to BCP 78 and the IETF Trust's Legal
   Provisions Relating to IETF Documents (https://trustee.ietf.org/
   license-info) in effect on the date of publication of this document.
   Please review these documents carefully, as they describe your rights
   and restrictions with respect to this document.  Code Components
   extracted from this document must include Revised BSD License text as
   described in Section 4.e of the Trust Legal Provisions and are
   provided without warranty as described in the Revised BSD License.

Table of Contents

   1.  Introduction  . . . . . . . . . . . . . . . . . . . . . . . .   2
   2.  Terminology . . . . . . . . . . . . . . . . . . . . . . . . .   3
   3.  SAP Network Model Usage . . . . . . . . . . . . . . . . . . .   4
   4.  Relationship to Other YANG Data Models  . . . . . . . . . . .   7
   5.  SAP Module Tree Structure . . . . . . . . . . . . . . . . . .   9
   6.  SAP YANG Module . . . . . . . . . . . . . . . . . . . . . . .  11
   7.  IANA Considerations . . . . . . . . . . . . . . . . . . . . .  19
   8.  Security Considerations . . . . . . . . . . . . . . . . . . .  19
   9.  Acknowledgements  . . . . . . . . . . . . . . . . . . . . . .  20
   10. References  . . . . . . . . . . . . . . . . . . . . . . . . .  20
     10.1.  Normative References . . . . . . . . . . . . . . . . . .  20
     10.2.  Informative References . . . . . . . . . . . . . . . . .  22
   Appendix A.  A Simplified SAP Network Example . . . . . . . . . .  25
   Appendix B.  A Simple Example of SAP Network Model: Node
           Filter  . . . . . . . . . . . . . . . . . . . . . . . . .  27
   Authors' Addresses  . . . . . . . . . . . . . . . . . . . . . . .  30

1.  Introduction

   From the perspective of a provider, the Service Attachment Points
   (SAPs) are abstraction of the network reference points where network
   services can be attached.  The SAP is an important architectural
   concept in many implementations and deployments of services, such as
   Virtual Private Networks (VPNs), Software-Defined Wide Area Network
   (SDWAN) [I-D.ietf-bess-bgp-sdwan-usage], or network slices
   [I-D.ietf-teas-ietf-network-slices].  For example, it is used to
   decide where to attach and, thus, deliver the service in the Layer 3
   VPN Service Model (L3SM) [RFC8299] and the Layer 2 VPN Service Model
   (L2SM) [RFC8466].  It can also be used to retrieve where services,
   such as the Layer 3 VPN Network Model (L3NM)
   [I-D.ietf-opsawg-l3sm-l3nm], and the Layer 2 VPN Network Model (L2NM)
   [I-D.ietf-opsawg-l2nm], are delivered.



Boucadair, et al.        Expires 15 August 2022                 [Page 2]

Internet-Draft              SAP Network YANG               February 2022


   This document explains the scope and purpose of a SAP network model
   and its relation with the service models.  Particularly, this
   document defines a YANG network model (Section 6) for representing,
   managing, and controlling the Service Attachment Points.  The data
   model augments the 'ietf-network' module [RFC8345] by adding the
   concept of Service Attachment Points.  Multiple service types can be
   associated with a given network.  Whether a SAP is dedicated to a
   specific service or shared among many services is deployment
   specific.  This document supports both deployment schemes.

   This document does not make any assumption about the service(s)
   provided by a network to its users.  VPN services (e.g., Layer 3
   Virtual Private Network (L3VPN) or Layer 2 Virtual Private Network
   (L2VPN)) are used for illustration purposes.

   Both User-Network Interface (UNI) and Network-to-Network Interface
   (NNI) SAPs are supported in the document.

   The YANG data model in Section 6 conforms to the Network Management
   Datastore Architecture (NMDA) [RFC8342].

2.  Terminology

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "NOT RECOMMENDED", "MAY", and
   "OPTIONAL" in this document are to be interpreted as described in BCP
   14 [RFC2119][RFC8174] when, and only when, they appear in all
   capitals, as shown here.

   This document assumes that the reader is familiar with the contents
   of [RFC6241], [RFC7950], and [RFC8309].  The document uses terms from
   those documents.

   The meanings of the symbols in tree diagrams are defined in
   [RFC8340].

   This document uses the term "network model" defined in Section 2.1 of
   [RFC8969].

   This document uses the following terms:

   Service povider:  The organization responsible for operating the
      network that offers a service (e.g., a VPN) to customers.

   Customer Edge (CE):  An equipment that is dedicated to a particular
      customer and is directly connected to one or more Provider Edges
      (PEs) via attachment circuits (ACs).  A CE is usually located at
      the customer premises.  A CE may be dedicated to a single service



Boucadair, et al.        Expires 15 August 2022                 [Page 3]

Internet-Draft              SAP Network YANG               February 2022


      (e.g., L3VPN), although it may support multiple VPNs if each one
      has separate attachment circuits.  A CE can be a router, bridge,
      switch, etc.

   Provider Edge (PE):  An equipment owned and managed by the service
      provider that can support multiple services (e.g., VPNs) for
      different customers.  A PE is directly connected to one or more
      CEs via attachment circuits.

   Service Attachment Point (SAP):  Describes a service's endpoint
      characteristics and its reference to a Termination Point (TP) of
      the PE.

3.  SAP Network Model Usage

   Management operations of a service provider network can be automated
   using a variety of means such as interfaces based on YANG modules
   [RFC8969].  From that standpoint, and considering the architecture
   depicted in Figure 1, a goal of this document is to provide a
   mechanism to show via a YANG-based interface an abstracted network
   view from the network controller to the service orchestration layer
   with a focus on where a service can be delivered to customers.  The
   model is also used to retrieve the network points where a service is
   being delivered.

                               +-----------------+
                               |     Customer    |
                               +--------+--------+
               Customer Service Models  |
                  (e.g., L3SM, L2SM)    |
                               +--------+--------+
                               |    Service      |
                               |  Orchestration  |
                               +------+---+------+
                   Network Models     |   | SAP Network Model
                 (e.g., L3NM, L2NM)   |   |
                               +------+---+------+
                               |     Network     |
                               |   Controller    |
                               +--------+--------+
                                        |
                  +---------------------+---------------------+
                  |                  Network                  |
                  +-------------------------------------------+

                     Figure 1: SAP Network Model Usage





Boucadair, et al.        Expires 15 August 2022                 [Page 4]

Internet-Draft              SAP Network YANG               February 2022


   Let us consider the example of a typical service provider network
   (Figure 2), with PE and P nodes.

                      +---------+         +---------+
                      |   PE1   |         |   PE2   |
                      +---------+         +---------+
                                 \       /
                                 +------+
                                 |  P   |
                                 +------+
                                /        \
                      +---------+         +---------+
                      |   PE3   |         |   PE4   |
                      +---------+         +---------+

                     Figure 2: Sample Network Topology

   The service orchestration layer does not need to know about the
   internals of the underlying network (e.g., P nodes).  Figure 3 shows
   the abstract network view as seen by a service orchestrator.
   However, this view is not enough to provide to the service
   orchestration layer the information to create services in the
   network.  The service topology need is to be able to expose the set
   of nodes and the attachment points associated with the nodes from
   which network services can be grafted (delivered).

                      +---------+         +---------+
                      |   PE1   |         |   PE2   |
                      +---------+         +---------+


                      +---------+         +---------+
                      |   PE3   |         |   PE4   |
                      +---------+         +---------+

                    Figure 3: Abstract Network Topology

   Typically, the service orchestration layer would see a set of PEs and
   a set of client-facing interfaces (physical or logical) to which CEs
   can be connected (or are actually connected).  The service
   orchestration layer can use them to setup the requested services or
   to commit the delivery of a service.  Figure 4 depicts a sample SAP
   network topology that is maintained by the network controller and
   exposed to the service orchestration.







Boucadair, et al.        Expires 15 August 2022                 [Page 5]

Internet-Draft              SAP Network YANG               February 2022


                 .---. .---. .---.              .---.       .---.
               +-|sap|-|sap|-|sap|-+          +-|sap|-------|sap|-+
               | '---' '---' '---' |          | '---'       '---' |
             .---.                 |          |                   |
             |sap|      PE1        |          |         PE2       |
             '---'                 |          |                   |
               |                   |          |                   |
               +-------------------+          +-------------------+


               +-------------------+          +-------------------+
               |                   |          |                   |
               |                   |          |                 .---.
               |         PE3       |          |        PE4      |sap|
               |                   |          |                 '---'
               | .---. .---. .---. |          | .---. .---. .---. |
               +-|sap|-|sap|-|sap|-+          +-|sap|-|sap|-|sap|-+
                 '---' '---' '---'              '---' '---' '---'

                       Figure 4: SAP Network Topology

   A single SAP network topology can be used for one of multiple service
   types (e.g., L3VPN, Ethernet VPN (EVPN)).  The network controller
   can, then, expose the service type(s) and associated interfaces via
   the SAPs.

   As shown in Figure 5, the service orchestration layer will have also
   access to a set of customer service model (e.g., the L3SM or the
   L2SM) in the customer-facing interface and a set of network models
   (e.g., the L3NM and network topology data models) in the resource-
   facing interface.  In this use case, it is assumed that the network
   controller is unaware of what happens beyond the PEs towards the CEs;
   it is only responsible for the management and control of the SAPs and
   the network between PEs.  In order to ease correlation between
   delivery points expressed service requests and SAPs, the SAP model
   may include a peer customer point identifier.  That identifier can be
   a CE identifier, a site identifier, etc.














Boucadair, et al.        Expires 15 August 2022                 [Page 6]

Internet-Draft              SAP Network YANG               February 2022


                                                        .---.
                                                        |CE2|
                                                        '-+-'
                                                          |
             .---. .---. .---.              .---.       .-+-.
           +-|sap|-|sap|-|sap|-+          +-|sap|-------|sap|-+
           | '---' '---' '---' |          | '---'       '---' |
  .---.  .---.                 |          |                   |
  |CE1+--+sap|      PE1        |          |         PE2       |
  '---'  '---'                 |          |                   |
           |                   |          |                   |
           +-------------------+          +-------------------+


           +-------------------+          +-------------------+
           |                   |          |                   |
           |                   |          |                 .---.  .---.
           |         PE3       |          |        PE4      |sap+--+CE5|
           |                   |          |                 '---'  '---'
           | .---. .---. .---. |          | .---. .---. .---. |
           +-|sap|-|sap|-|sap|-+          +-|sap|-|sap|-|sap|-+
             '---' '---' '-+-'              '---' '---' '---'
                           |                        |
                         .-+-.                    .-+-.
                         |CE3|                    |CE4|
                         '-+-'                    '-+-'

               Figure 5: Network Topology with CEs and ACs

   Refer to Appendix A for an example echoing the topology depicted in
   Figure 5.

4.  Relationship to Other YANG Data Models

   The SAP network model can be seen as an inventory data associated
   with SAPs.  The model maintains an inventory of nodes contained in a
   network relying upon [RFC8345].














Boucadair, et al.        Expires 15 August 2022                 [Page 7]

Internet-Draft              SAP Network YANG               February 2022


                   +-------------------------+
                   |                         |
                   |  Abstract Network Model |
                   |                         |
                   +------------+------------+
                                |
                      +---------+---------+
                      |                   |
               +------V------+     +------V------+
               |  Abstract   |     |  Inventory  |
               |  Network    |     |   Model(s)  |
               |  Topology   |     |   e.g.,SAP  |
               |   Model     |     |   Network   |
               |             |     |    Model    |
               +-----+-------+     +-------------+
                     |
         +-----------+-----------+
         |           |           |
    +----V----+ +----V----+ +----V----+
    |TE Topo  | |L3 Topo  | |L2 Topo  |
    |  Model  | |  Model  | |  Model  | ...
    +---------+ +---------+ +---------+

          Figure 6: Relation of SAP Network Model to Other Models

   Figure 6 depicts the relationship of the SAP network model to other
   models.  The SAP network model augments from the Network model
   [RFC8345] and imports Network Topology model, while other technology-
   specific topology models (e.g., TE Topologies model [RFC8795] or L3
   Topology model [RFC8346]) augment from the Network Topology.

   In the context of Software-Defined Networking (SDN)
   [RFC7149][RFC7426], the SAP YANG data model can be used to exchange
   information between control elements, so as to support VPN service
   provision and resource management discussed in
   [I-D.ietf-opsawg-l3sm-l3nm][I-D.ietf-opsawg-l2nm].  Through this data
   model, the service orchestration layer can learn the available
   endpoints (i.e., SAPs) of interconnection resources of the underlying
   network.  The service orchestration layer can determine which
   interconnection endpoints to add to an L2VPN or L3VPN service.  With
   the help of other data models (e.g., L3SM [RFC8299] or L2SM
   [RFC8466]), hierarchical control elements can also assess the
   feasibility of an end-to-end IP connectivity or L2VPN connectivity
   and, therefore, derive the sequence of domains and the points of
   interconnection to use.






Boucadair, et al.        Expires 15 August 2022                 [Page 8]

Internet-Draft              SAP Network YANG               February 2022


5.  SAP Module Tree Structure

   The SAP network model builds on the network data model defined in the
   'ietf-network' module [RFC8345], augmenting the nodes with Service
   Attachment Points, which anchor the links and are contained in nodes.
   The 'service-attachment-point' attribute defined in the SAP network
   model is not a tunnel termination point (TTP) nor a link, but an
   abstraction of the termination point defined in [RFC8345].

   The structure of the 'ietf-sap-ntw' module is shown in Figure 7.

   module: ietf-sap-ntw
     augment /nw:networks/nw:network/nw:network-types:
       +--rw sap-network!
          +--rw sap-type*   identityref
     augment /nw:networks/nw:network/nw:node:
       +--rw service* [sap-type]
          +--rw sap-type                    identityref
          +--rw service-attachment-point* [attachment-id]
             +--rw attachment-id               nt:tp-id
             +--rw description?                string
             +--rw parent-termination-point?   nt:tp-id
             +--rw interface-type?             identityref
             +--rw encapsulation-type?         identityref
             +--rw interface-role?             identityref
             +--rw peer-customer-sap-id?       string
             +--ro sap-status
             |  +--ro status?        identityref
             |  +--ro last-change?   yang:date-and-time
             +--ro service-status
                +--ro status?        identityref
                +--ro last-change?   yang:date-and-time

                  Figure 7: SAP YANG Module Tree Structure


   A SAP network topology can be used for one or multiple service types
   ('sap-type').  When a SAP topology is used for many service types,
   the underlying (network) nodes must support at least one of these
   service types.  Examples of supported service types are as follows:

   *  L3VPN [RFC4364],

   *  Virtual Private LAN Service (VPLS) using BGP [RFC4761],

   *  VPLS using Label Distribution Protocol (LDP) [RFC4762],

   *  Virtual Private Wire Service (VPWS) [RFC8214],



Boucadair, et al.        Expires 15 August 2022                 [Page 9]

Internet-Draft              SAP Network YANG               February 2022


   *  BGP MPLS-Based Ethernet VPN [RFC7432],

   *  Ethernet VPN (EVPN) [RFC8365],

   *  Provider Backbone Bridging Combined with Ethernet VPN (PBB-EVPN)
      [RFC7623],

   *  Virtual Networks [RFC8453],

   *  Enhanced VPN (VPN+) [I-D.ietf-teas-enhanced-vpn],

   *  Network slice [I-D.ietf-teas-ietf-network-slices],

   *  SDWAN [I-D.ietf-bess-bgp-sdwan-usage], and

   *  Basic IP connectivity.

   Additional service types can be defined in future YANG modules, if
   needed.

   A node in the topology can support one or multiple service types
   ('sap-type').  A list of SAPs are then bound to each service type.
   Each SAP is characterized as follows:

   'attachment-id':  Includes an identifier that uniquely identifies a
      SAP in a node.

      'attachment-id' may include a reference to a physical or a logical
      interface.  For example, 'attachment-id' may be the interface
      identifier of a VPN network access used in Section 7.6 of
      [I-D.ietf-opsawg-l3sm-l3nm].

      All the interfaces that are directly hosting services, interfaces
      that are ready to host per-service sub-interfaces, and already
      instantiated sub-interfaces are listed.

   'description':  Includes a textual description of a SAP.

   'parent-termination-point':  Includes a reference to the parent
      interface to which the SAP is bound (e.g., physical port).  This
      attribute is used to associate an interface with its sub-
      interfaces as all may be present in the model.

      For example, this data node can be used to map the IETF Network
      Slice endpoints to the service/tunnel/path endpoints in the
      underlay network as per Section 5.4 of
      [I-D.ietf-teas-ietf-network-slices].




Boucadair, et al.        Expires 15 August 2022                [Page 10]

Internet-Draft              SAP Network YANG               February 2022


   'interface-type':  Indicates whether a SAP is a physical port, a
      loopback interface, a Link Aggregation Group (LAG) interface, an
      Integrated Routing Bridge (IRB), a local bridge reference, etc.

   'encapsulation-type':  Indicates the encapsulation type for the
      interface.  The types are taken from [I-D.ietf-opsawg-vpn-common].

      This data node can be used, for example, to decide whether an
      existing SAP to be used to host a service or if a new sub-
      interface has to be instantiated.

   'interface-role':  Specifies whether an interface is a UNI or NNI.

      A sub-interface inherits the interface role of its parent
      interface.

   'peer-customer-sap-id':  Includes a reference to remote endpoint of
      an attachment circuit.

   'sap-status':  Indicates the status of a SAP.

      When both a sub-interface and its parent interface are present,
      the status of the parent interface takes precedence over the
      status indicated for the sub-interface.

   'service-status':  Reports the service status for a given SAP.  This
      information is particularly useful when many services are enabled
      for the same SAP, but only a subset of these services are
      activated.


6.  SAP YANG Module

   This module imports types from [RFC8343], [RFC8345], and
   [I-D.ietf-opsawg-vpn-common].

   <CODE BEGINS> file "ietf-sap-ntw@2022-02-07.yang"
   module ietf-sap-ntw {
     yang-version 1.1;
     namespace "urn:ietf:params:xml:ns:yang:ietf-sap-ntw";
     prefix sap;

     import ietf-network-topology {
       prefix nt;
       reference
         "RFC 8345: A YANG Data Model for Network
                    Topologies, Section 6.2";
     }



Boucadair, et al.        Expires 15 August 2022                [Page 11]

Internet-Draft              SAP Network YANG               February 2022


     import ietf-network {
       prefix nw;
       reference
         "RFC 8345: A YANG Data Model for Network
                    Topologies, Section 6.1";
     }
     import ietf-vpn-common {
       prefix vpn-common;
       reference
         "RFC 9181: A Common YANG Data Model for Layer 2 and Layer 3
                    VPNs";
     }

     organization
       "IETF OPSA (Operations and Management Area) Working Group ";
     contact
       "WG Web:   <https://datatracker.ietf.org/wg/opsawg/>
        WG List:  <mailto:opsawg@ietf.org>

        Author:   Oscar Gonzalez de Dios
                  <mailto:oscar.gonzalezdedios@telefonica.com>

        Author:   Samier Barguil
                  <mailto:samier.barguilgiraldo.ext@telefonica.com>

        Author:   Qin Wu
                  <mailto:bill.wu@huawei.com>

        Editor:   Mohamed Boucadair
                  <mailto:mohamed.boucadair@orange.com>

        Author:   Victor Lopez
                  <victor.lopez@nokia.com>";
     description
       "This YANG module defines a model for representing, managing,
        and controlling the Service Attachment Points (SAPs) in the
        network topology.

        Copyright (c) 2022 IETF Trust and the persons identified as
        authors of the code.  All rights reserved.

        Redistribution and use in source and binary forms, with or
        without modification, is permitted pursuant to, and subject to
        the license terms contained in, the Simplified BSD License set
        forth in Section 4.c of the IETF Trust's Legal Provisions
        Relating to IETF Documents
        (https://trustee.ietf.org/license-info).




Boucadair, et al.        Expires 15 August 2022                [Page 12]

Internet-Draft              SAP Network YANG               February 2022


        This version of this YANG module is part of RFC XXXX
        (https://www.rfc-editor.org/info/rfcXXXX); see the RFC itself
        for full legal notices.";

     revision 2022-02-07 {
       description
         "Initial version";
       reference
         "RFC XXXX: A Network YANG Model for Service Attachment
                    Points (SAPs)";
     }

     identity service-type {
       description
         "Base identity for the service type.";
     }

     identity l3vpn {
       base service-type;
       description
         "L3VPN service.";
       reference
         "RFC 4364: BGP/MPLS IP Virtual Private Networks (VPNs)";
     }

     identity vpls-bgp {
       base service-type;
       description
         "Virtual Private LAN Service (VPLS) using BGP.";
       reference
         "RFC 4761: Virtual Private LAN Service (VPLS) Using BGP for
                    Auto-Discovery and Signaling";
     }

     identity vpls-ldp {
       base service-type;
       description
         "VPLS using Label Distribution Protocol (LDP).";
       reference
         "RFC 4762: Virtual Private LAN Service (VPLS) Using Label
                    Distribution Protocol (LDP) Signaling";
     }

     identity vpws {
       base service-type;
       description
         "Virtual Private Wire Service (VPWS).";
       reference



Boucadair, et al.        Expires 15 August 2022                [Page 13]

Internet-Draft              SAP Network YANG               February 2022


         "RFC 4664: Framework for Layer 2 Virtual Private Networks
                    (L2VPNs), Section 3.1.1";
     }

     identity vpws-evpn {
       base service-type;
       description
         "EVPN used to support VPWS.";
       reference
         "RFC 8214: Virtual Private Wire Service Support in Ethernet VPN";
     }

     identity pbb-evpn {
       base service-type;
       description
         "Provider Backbone Bridging (PBB) EVPN service.";
       reference
         "RFC 7623: Provider Backbone Bridging Combined with Ethernet VPN
                    (PBB-EVPN)";
     }

     identity mpls-evpn {
       base service-type;
       description
         "MPLS-based EVPN service.";
       reference
         "RFC 7432: BGP MPLS-Based Ethernet VPN";
     }

     identity vxlan-evpn {
       base service-type;
       description
         "VXLAN-based EVPN service.";
       reference
         "RFC 8365: A Network Virtualization Overlay Solution Using
                    Ethernet VPN (EVPN)";
     }

     identity virtual-network {
       base service-type;
       description
         "Virtual network.";
       reference
         "RFC 8453: Framework for Abstraction and Control of TE
                    Networks (ACTN)";
     }

     identity enhanced-vpn {



Boucadair, et al.        Expires 15 August 2022                [Page 14]

Internet-Draft              SAP Network YANG               February 2022


       base service-type;
       description
         "Enhanced VPN (VPN+). VPN+ is an approach that is
          based on existing VPN and Traffic Engineering (TE)
          technologies but adds characteristics that specific
          services require over and above traditional VPNs.";
       reference
         "I-D.ietf-teas-enhanced-vpn:
            A Framework for Enhanced Virtual Private Network
            (VPN+) Services";
     }

     identity network-slice {
       base service-type;
       description
         "IETF network slice.  An IETF network slice
          is a logical network topology connecting a number of
          endpoints using a set of shared or dedicated network
          resources that are used to satisfy specific service
          objectives.";
       reference
         "I-D.ietf-teas-ietf-network-slices:
            Framework for IETF Network Slices";
     }

     identity sdwan {
       base service-type;
       description
         "PE-based Software-Defined Wide Area Network (SDWAN).";
       reference
         "I-D.ietf-bess-bgp-sdwan-usage: BGP Usage for SDWAN
                Overlay Network";
     }

     identity basic-connectivty {
       base service-type;
       description
         "Basic IP connectivity.";
     }

     identity interface-role {
       description
         "Base identity for the network role of an interface.";
     }

     identity uni {
       base interface-role;
       description



Boucadair, et al.        Expires 15 August 2022                [Page 15]

Internet-Draft              SAP Network YANG               February 2022


         "User-Network Interface (UNI).";
     }

     identity nni {
       base interface-role;
       description
         "Network-to-Network Interface (NNI).";
     }

     identity interface-type {
       description
         "Base identity for the interface type.";
     }

     identity phy {
       base interface-type;
       description
         "Physical port.";
     }

     identity loopback {
       base interface-type;
       description
         "Loopback interface.";
     }

     identity lag {
       base interface-type;
       description
         "Link Aggregation Group (LAG) interface.";
     }

     identity irb {
       base interface-type;
       description
         "Integrated Routing Bridge (IRB).";
     }

     identity local-bridge {
       base interface-type;
       description
         "A local bridge reference to accommodate, e.g.,
          implementations that require internal bridging.
          When such a type is used, a reference to a local
          bridge domain is used to identify the interface.";
     }

     identity logical {



Boucadair, et al.        Expires 15 August 2022                [Page 16]

Internet-Draft              SAP Network YANG               February 2022


       base interface-type;
       description
         "Refers to a logical sub-interface that is typically
          used to bind a service. This type is used only
          if none of the other logical types can be used.";
     }

     grouping sap-information {
       description
         "Service Attachment Point (SAP) information.";
       list service-attachment-point {
         key "attachment-id";
         description
           "The Service Attachment Points are abstraction of
            the points where network services such as L3VPNs,
            L2VPNs, or network slices can be attached to.";
         leaf attachment-id {
           type nt:tp-id;
           description
             "Indicates the identifier of the interface to
              which the SAP is attached. This interface can
              be a physical or logical interface.";
         }
         leaf description {
           type string;
           description
             "A textual description of the SAP.";
         }
         leaf parent-termination-point {
           type nt:tp-id;
           description
             "Indicates the parent termination point to
              which the SAP is attached to. A termination
              point can be a physical port, an interface, etc.";
         }
         leaf interface-type {
           type identityref {
             base interface-type;
           }
           description
             "The type of the interface.";
         }
         leaf encapsulation-type {
           type identityref {
             base vpn-common:encapsulation-type;
           }
           description
             "Encapsulation type of the interface.";



Boucadair, et al.        Expires 15 August 2022                [Page 17]

Internet-Draft              SAP Network YANG               February 2022


         }
         leaf interface-role {
           type identityref {
             base interface-role;
           }
           description
             "Indicates whether the SAP is an UNI or a NNI.";
         }
         leaf peer-customer-sap-id {
           type string;
           description
             "Indicates an identifier of the peer's termination
              identifier (e.g., Customer Edge (CE)). This
              information can be used for correlation purposes,
              such as identifying the SAP that is attached to
              an endpoint that is provided in a service request.";
         }
         container sap-status {
           description
             "SAP status.";
           config "false";
           uses vpn-common:oper-status-timestamp;
         }
         container service-status {
           description
             "Service status.";
           config "false";
           uses vpn-common:oper-status-timestamp;
         }
       }
     }

     augment "/nw:networks/nw:network/nw:network-types" {
       description
         "Introduces a new network type for SAP network.";
       container sap-network {
         presence "Indicates SAP Network Type.";
         description
           "The presence of the container node indicates the
            SAP network type.";
         leaf-list sap-type {
           type identityref {
             base service-type;
           }
           description
             "Indicates the set of supported service types.";
         }
       }



Boucadair, et al.        Expires 15 August 2022                [Page 18]

Internet-Draft              SAP Network YANG               February 2022


     }

     augment "/nw:networks/nw:network/nw:node" {
       description
         "Parameters for the SAP level.";
       list service {
         key "sap-type";
         description
           "Indicates a list of services.";
         leaf sap-type {
           type identityref {
             base service-type;
           }
           description
             "SAP type.";
         }
         uses sap-information;
      }
     }
   }
   <CODE ENDS>

7.  IANA Considerations

   This document registers the following namespace URI in the "ns"
   subregistry within the "IETF XML Registry" [RFC3688]:

       URI: urn:ietf:params:xml:ns:yang:ietf-sap-ntw
       Registrant Contact: The IESG.
       XML: N/A, the requested URI is an XML namespace.

   This document registers the following YANG module in the YANG Module
   Names registry [RFC6020] within the "YANG Parameters" registry:

       name: ietf-sap-ntw
       namespace: urn:ietf:params:xml:ns:yang:ietf-sap-ntw
       maintained by IANA? N
       prefix: sap
       reference: RFC XXXX

8.  Security Considerations

   The YANG module specified in this document defines schema for data
   that is designed to be accessed via network management protocols such
   as NETCONF [RFC6241] or RESTCONF [RFC8040].  The lowest NETCONF layer
   is the secure transport layer, and the mandatory-to-implement secure
   transport is Secure Shell (SSH) [RFC6242].  The lowest RESTCONF layer
   is HTTPS, and the mandatory-to-implement secure transport is TLS



Boucadair, et al.        Expires 15 August 2022                [Page 19]

Internet-Draft              SAP Network YANG               February 2022


   [RFC8446].

   The Network Configuration Access Control Model (NACM) [RFC8341]
   provides the means to restrict access for particular NETCONF or
   RESTCONF users to a preconfigured subset of all available NETCONF or
   RESTCONF protocol operations and content.

   There are a number of data nodes defined in this YANG module that are
   writable/creatable/deletable (i.e., config true, which is the
   default).  These data nodes may be considered sensitive or vulnerable
   in some network environments.  Write operations (e.g., edit-config)
   to these data nodes without proper protection can have a negative
   effect on network operations.  These are the subtrees and data nodes
   and their sensitivity/vulnerability:

   *  /nw:networks/nw:network/nw:node/sap:sap-type/sap:service-
      attachment-point/sap:attachment-id

   This subtree specifies the configurations of the nodes in a SAP
   network model.  Unexpected changes to this subtree could lead to
   service disruption and/or network misbehavior.

   Some of the readable data nodes in this YANG module may be considered
   sensitive or vulnerable in some network environments.  It is thus
   important to control read access (e.g., via get, get-config, or
   notification) to these data nodes.  These are the subtrees and data
   nodes and their sensitivity/vulnerability:

   *  /nw:networks/nw:network/nw:node/sap:sap-type/sap:service-
      attachment-point

      Unauthorized access to this subtree can disclose the operational
      state information of the nodes in a SAP network model.


9.  Acknowledgements

   Thanks to Adrian Farrell and Daniel King for the suggestions on the
   name used in a previous version.

   Thanks to Dhruv Dhody, Benoit Claise, Bo Wu, and Erez Segev for the
   comments.

10.  References

10.1.  Normative References





Boucadair, et al.        Expires 15 August 2022                [Page 20]

Internet-Draft              SAP Network YANG               February 2022


   [I-D.ietf-opsawg-vpn-common]
              Barguil, S., Dios, O. G. D., Boucadair, M., and Q. Wu, "A
              Layer 2/3 VPN Common YANG Model", Work in Progress,
              Internet-Draft, draft-ietf-opsawg-vpn-common-12, 29
              September 2021, <https://www.ietf.org/archive/id/draft-
              ietf-opsawg-vpn-common-12.txt>.

   [RFC2119]  Bradner, S., "Key words for use in RFCs to Indicate
              Requirement Levels", BCP 14, RFC 2119,
              DOI 10.17487/RFC2119, March 1997,
              <https://www.rfc-editor.org/info/rfc2119>.

   [RFC3688]  Mealling, M., "The IETF XML Registry", BCP 81, RFC 3688,
              DOI 10.17487/RFC3688, January 2004,
              <https://www.rfc-editor.org/info/rfc3688>.

   [RFC6020]  Bjorklund, M., Ed., "YANG - A Data Modeling Language for
              the Network Configuration Protocol (NETCONF)", RFC 6020,
              DOI 10.17487/RFC6020, October 2010,
              <https://www.rfc-editor.org/info/rfc6020>.

   [RFC6241]  Enns, R., Ed., Bjorklund, M., Ed., Schoenwaelder, J., Ed.,
              and A. Bierman, Ed., "Network Configuration Protocol
              (NETCONF)", RFC 6241, DOI 10.17487/RFC6241, June 2011,
              <https://www.rfc-editor.org/info/rfc6241>.

   [RFC6242]  Wasserman, M., "Using the NETCONF Protocol over Secure
              Shell (SSH)", RFC 6242, DOI 10.17487/RFC6242, June 2011,
              <https://www.rfc-editor.org/info/rfc6242>.

   [RFC7950]  Bjorklund, M., Ed., "The YANG 1.1 Data Modeling Language",
              RFC 7950, DOI 10.17487/RFC7950, August 2016,
              <https://www.rfc-editor.org/info/rfc7950>.

   [RFC8040]  Bierman, A., Bjorklund, M., and K. Watsen, "RESTCONF
              Protocol", RFC 8040, DOI 10.17487/RFC8040, January 2017,
              <https://www.rfc-editor.org/info/rfc8040>.

   [RFC8174]  Leiba, B., "Ambiguity of Uppercase vs Lowercase in RFC
              2119 Key Words", BCP 14, RFC 8174, DOI 10.17487/RFC8174,
              May 2017, <https://www.rfc-editor.org/info/rfc8174>.

   [RFC8341]  Bierman, A. and M. Bjorklund, "Network Configuration
              Access Control Model", STD 91, RFC 8341,
              DOI 10.17487/RFC8341, March 2018,
              <https://www.rfc-editor.org/info/rfc8341>.





Boucadair, et al.        Expires 15 August 2022                [Page 21]

Internet-Draft              SAP Network YANG               February 2022


   [RFC8345]  Clemm, A., Medved, J., Varga, R., Bahadur, N.,
              Ananthakrishnan, H., and X. Liu, "A YANG Data Model for
              Network Topologies", RFC 8345, DOI 10.17487/RFC8345, March
              2018, <https://www.rfc-editor.org/info/rfc8345>.

   [RFC8346]  Clemm, A., Medved, J., Varga, R., Liu, X.,
              Ananthakrishnan, H., and N. Bahadur, "A YANG Data Model
              for Layer 3 Topologies", RFC 8346, DOI 10.17487/RFC8346,
              March 2018, <https://www.rfc-editor.org/info/rfc8346>.

   [RFC8446]  Rescorla, E., "The Transport Layer Security (TLS) Protocol
              Version 1.3", RFC 8446, DOI 10.17487/RFC8446, August 2018,
              <https://www.rfc-editor.org/info/rfc8446>.

   [RFC8795]  Liu, X., Bryskin, I., Beeram, V., Saad, T., Shah, H., and
              O. Gonzalez de Dios, "YANG Data Model for Traffic
              Engineering (TE) Topologies", RFC 8795,
              DOI 10.17487/RFC8795, August 2020,
              <https://www.rfc-editor.org/info/rfc8795>.

10.2.  Informative References

   [I-D.ietf-bess-bgp-sdwan-usage]
              Dunbar, L., Guichard, J., Sajassi, A., Drake, J., Najem,
              B., and D. Carrel, "BGP Usage for SDWAN Overlay Networks",
              Work in Progress, Internet-Draft, draft-ietf-bess-bgp-
              sdwan-usage-04, 18 October 2021,
              <https://www.ietf.org/archive/id/draft-ietf-bess-bgp-
              sdwan-usage-04.txt>.

   [I-D.ietf-opsawg-l2nm]
              Barguil, S., Dios, O. G. D., Boucadair, M., and L. A.
              Munoz, "A Layer 2 VPN Network YANG Model", Work in
              Progress, Internet-Draft, draft-ietf-opsawg-l2nm-12, 22
              November 2021, <https://www.ietf.org/archive/id/draft-
              ietf-opsawg-l2nm-12.txt>.

   [I-D.ietf-opsawg-l3sm-l3nm]
              Barguil, S., Dios, O. G. D., Boucadair, M., Munoz, L. A.,
              and A. Aguado, "A Layer 3 VPN Network YANG Model", Work in
              Progress, Internet-Draft, draft-ietf-opsawg-l3sm-l3nm-18,
              8 October 2021, <https://www.ietf.org/archive/id/draft-
              ietf-opsawg-l3sm-l3nm-18.txt>.

   [I-D.ietf-teas-enhanced-vpn]
              Dong, J., Bryant, S., Li, Z., Miyasaka, T., and Y. Lee, "A
              Framework for Enhanced Virtual Private Network (VPN+)
              Services", Work in Progress, Internet-Draft, draft-ietf-



Boucadair, et al.        Expires 15 August 2022                [Page 22]

Internet-Draft              SAP Network YANG               February 2022


              teas-enhanced-vpn-09, 25 October 2021,
              <https://www.ietf.org/archive/id/draft-ietf-teas-enhanced-
              vpn-09.txt>.

   [I-D.ietf-teas-ietf-network-slices]
              Farrel, A., Gray, E., Drake, J., Rokui, R., Homma, S.,
              Makhijani, K., Contreras, L. M., and J. Tantsura,
              "Framework for IETF Network Slices", Work in Progress,
              Internet-Draft, draft-ietf-teas-ietf-network-slices-05, 25
              October 2021, <https://www.ietf.org/archive/id/draft-ietf-
              teas-ietf-network-slices-05.txt>.

   [RFC4364]  Rosen, E. and Y. Rekhter, "BGP/MPLS IP Virtual Private
              Networks (VPNs)", RFC 4364, DOI 10.17487/RFC4364, February
              2006, <https://www.rfc-editor.org/info/rfc4364>.

   [RFC4761]  Kompella, K., Ed. and Y. Rekhter, Ed., "Virtual Private
              LAN Service (VPLS) Using BGP for Auto-Discovery and
              Signaling", RFC 4761, DOI 10.17487/RFC4761, January 2007,
              <https://www.rfc-editor.org/info/rfc4761>.

   [RFC4762]  Lasserre, M., Ed. and V. Kompella, Ed., "Virtual Private
              LAN Service (VPLS) Using Label Distribution Protocol (LDP)
              Signaling", RFC 4762, DOI 10.17487/RFC4762, January 2007,
              <https://www.rfc-editor.org/info/rfc4762>.

   [RFC7149]  Boucadair, M. and C. Jacquenet, "Software-Defined
              Networking: A Perspective from within a Service Provider
              Environment", RFC 7149, DOI 10.17487/RFC7149, March 2014,
              <https://www.rfc-editor.org/info/rfc7149>.

   [RFC7426]  Haleplidis, E., Ed., Pentikousis, K., Ed., Denazis, S.,
              Hadi Salim, J., Meyer, D., and O. Koufopavlou, "Software-
              Defined Networking (SDN): Layers and Architecture
              Terminology", RFC 7426, DOI 10.17487/RFC7426, January
              2015, <https://www.rfc-editor.org/info/rfc7426>.

   [RFC7432]  Sajassi, A., Ed., Aggarwal, R., Bitar, N., Isaac, A.,
              Uttaro, J., Drake, J., and W. Henderickx, "BGP MPLS-Based
              Ethernet VPN", RFC 7432, DOI 10.17487/RFC7432, February
              2015, <https://www.rfc-editor.org/info/rfc7432>.

   [RFC7623]  Sajassi, A., Ed., Salam, S., Bitar, N., Isaac, A., and W.
              Henderickx, "Provider Backbone Bridging Combined with
              Ethernet VPN (PBB-EVPN)", RFC 7623, DOI 10.17487/RFC7623,
              September 2015, <https://www.rfc-editor.org/info/rfc7623>.





Boucadair, et al.        Expires 15 August 2022                [Page 23]

Internet-Draft              SAP Network YANG               February 2022


   [RFC8214]  Boutros, S., Sajassi, A., Salam, S., Drake, J., and J.
              Rabadan, "Virtual Private Wire Service Support in Ethernet
              VPN", RFC 8214, DOI 10.17487/RFC8214, August 2017,
              <https://www.rfc-editor.org/info/rfc8214>.

   [RFC8299]  Wu, Q., Ed., Litkowski, S., Tomotaki, L., and K. Ogaki,
              "YANG Data Model for L3VPN Service Delivery", RFC 8299,
              DOI 10.17487/RFC8299, January 2018,
              <https://www.rfc-editor.org/info/rfc8299>.

   [RFC8309]  Wu, Q., Liu, W., and A. Farrel, "Service Models
              Explained", RFC 8309, DOI 10.17487/RFC8309, January 2018,
              <https://www.rfc-editor.org/info/rfc8309>.

   [RFC8340]  Bjorklund, M. and L. Berger, Ed., "YANG Tree Diagrams",
              BCP 215, RFC 8340, DOI 10.17487/RFC8340, March 2018,
              <https://www.rfc-editor.org/info/rfc8340>.

   [RFC8342]  Bjorklund, M., Schoenwaelder, J., Shafer, P., Watsen, K.,
              and R. Wilton, "Network Management Datastore Architecture
              (NMDA)", RFC 8342, DOI 10.17487/RFC8342, March 2018,
              <https://www.rfc-editor.org/info/rfc8342>.

   [RFC8343]  Bjorklund, M., "A YANG Data Model for Interface
              Management", RFC 8343, DOI 10.17487/RFC8343, March 2018,
              <https://www.rfc-editor.org/info/rfc8343>.

   [RFC8365]  Sajassi, A., Ed., Drake, J., Ed., Bitar, N., Shekhar, R.,
              Uttaro, J., and W. Henderickx, "A Network Virtualization
              Overlay Solution Using Ethernet VPN (EVPN)", RFC 8365,
              DOI 10.17487/RFC8365, March 2018,
              <https://www.rfc-editor.org/info/rfc8365>.

   [RFC8453]  Ceccarelli, D., Ed. and Y. Lee, Ed., "Framework for
              Abstraction and Control of TE Networks (ACTN)", RFC 8453,
              DOI 10.17487/RFC8453, August 2018,
              <https://www.rfc-editor.org/info/rfc8453>.

   [RFC8466]  Wen, B., Fioccola, G., Ed., Xie, C., and L. Jalil, "A YANG
              Data Model for Layer 2 Virtual Private Network (L2VPN)
              Service Delivery", RFC 8466, DOI 10.17487/RFC8466, October
              2018, <https://www.rfc-editor.org/info/rfc8466>.

   [RFC8969]  Wu, Q., Ed., Boucadair, M., Ed., Lopez, D., Xie, C., and
              L. Geng, "A Framework for Automating Service and Network
              Management with YANG", RFC 8969, DOI 10.17487/RFC8969,
              January 2021, <https://www.rfc-editor.org/info/rfc8969>.




Boucadair, et al.        Expires 15 August 2022                [Page 24]

Internet-Draft              SAP Network YANG               February 2022


Appendix A.  A Simplified SAP Network Example

   An example of a SAP topology is depicted in Figure 8.

   {
     "ietf-network:networks": {
       "network": [
         {
           "network-types": {
             "service-type": [
               "l3vpn",
               "vpls-bgp"
             ]
           },
           "network-id": "an-id",
           "node": [
             {
               "node-id": "PE1",
               "ietf-sap-ntw:service": [
                 {
                   "sap-type": "l3vpn",
                   "service-attachment-point": [
                     {
                       "attachment-id": "sap#11",
                       "peer-customer-sap-id": "ce-1"
                     },
                     {
                       "attachment-id": "sap#12"
                     },
                     {
                       "attachment-id": "sap#13"
                     },
                     {
                       "attachment-id": "sap#14"
                     }
                   ]
                 }
               ]
             },
             {
               "node-id": "PE2",
               "ietf-sap-ntw:service": [
                 {
                   "sap-type": "l3vpn",
                   "service-attachment-point": [
                     {
                       "attachment-id": "sap#21"
                     },



Boucadair, et al.        Expires 15 August 2022                [Page 25]

Internet-Draft              SAP Network YANG               February 2022


                     {
                       "attachment-id": "sap#22",
                       "peer-customer-sap-id": "ce-2"
                     }
                   ]
                 }
               ]
             },
             {
               "node-id": "PE3",
               "ietf-sap-ntw:service": [
                 {
                   "sap-type": "l3vpn",
                   "service-attachment-point": [
                     {
                       "attachment-id": "sap#31"
                     },
                     {
                       "attachment-id": "sap#32"
                     },
                     {
                       "attachment-id": "sap#33",
                       "peer-customer-sap-id": "ce-3"
                     }
                   ]
                 }
               ]
             },
             {
               "node-id": "PE4",
               "ietf-sap-ntw:service": [
                 {
                   "sap-type": "l3vpn",
                   "service-attachment-point": [
                     {
                       "attachment-id": "sap#41"
                     },
                     {
                       "attachment-id": "sap#42",
                       "peer-customer-sap-id": "ce-4"
                     },
                     {
                       "attachment-id": "sap#43"
                     },
                     {
                       "attachment-id": "sap#44",
                       "peer-customer-sap-id": "ce-5"
                     }



Boucadair, et al.        Expires 15 August 2022                [Page 26]

Internet-Draft              SAP Network YANG               February 2022


                   ]
                 }
               ]
             }
           ]
         }
       ]
     }
   }

                           Figure 8: SAP Example


Appendix B.  A Simple Example of SAP Network Model: Node Filter

   In the example shown in Figure 9, PE#2 has two physical interfaces
   "GE0/6/1" and "GE0/6/4".  Two subinterfaces "GE0/6/4.1" and
   "GE0/6/4.2" are associated with the physical interface "GE0/6/4".
   Let us consider that four SAPs are exposed to the service
   orchestrator and mapped to these physical interfaces and
   subinterfaces.

      +-------------------------+
      |                 GE0/6/4 |
      | PE2                +----+----+
      |                    |         |GE0/6/4.1
      |                    |      +--+--+
      |                    |      +--+--+
      |                    |         |GE0/6/4.2
      |                    |      +--+--+
      |                    |      +--+--+
      |                    |         |
      |                    +----+----+
      |                         |
      |                  GE0/6/1|
      |                    +----+----+
      |                    |         |
      |                    |         |
      |                    |         |
      |                    |         |
      |                    +----+----+
      |                         |
      +-------------------------+

       Figure 9: An Example of PE and Associated Physical Interfaces






Boucadair, et al.        Expires 15 August 2022                [Page 27]

Internet-Draft              SAP Network YANG               February 2022


   Let us assume that no servie is enabled yet for the SAP associated
   with the first physical interface "GE0/6/1".  Also, let us assume
   that for the SAPs associated with the second physical interface
   "GE0/6/4", VPLS and L3VPN services are activated on the two
   subinterfaces "GE0/6/4.1" and "GE0/6/4.2", respectively.

   A service orchestrator can query what services are provided on which
   SAPs of PE#1 from the network controller by sending, e.g., a GET
   RESTCONF request.  Figure 10 shows the body of the RESTCONF response
   that is received from the network controller.

   {
     "ietf-sap-ntw:service": [
       {
         "sap-type": "l3vpn",
         "service-attachment-point": [
           {
             "attachment-id": "GE0/6/1",
             "description": "Ready to host SAPs",
             "interface-type": "ietf-sap-ntw:phy",
             "interface-role": "ietf-sap-ntw:uni",
             "sap-status": {
               "status": "ietf-vpn-common:op-up"
             }
           },
           {
             "attachment-id": "GE0/6/4",
             "description": "Ready to host SAPs",
             "interface-type": "ietf-sap-ntw:phy",
             "interface-role": "ietf-sap-ntw:uni",
             "sap-status": {
               "status": "ietf-vpn-common:op-up"
             }
           },
           {
             "attachment-id": "GE0/6/4.1",
             "description": "A first SAP description",
             "interface-type": "ietf-sap-ntw:logical",
             "parent-termination-point": "GE0/6/4",
             "encapsulation-type": "ietf-vpn-common:vlan",
             "sap-status": {
               "status": "ietf-vpn-common:op-up"
             },
             "service-status": {
               "status": "ietf-vpn-common:op-up"
             }
           }
         ]



Boucadair, et al.        Expires 15 August 2022                [Page 28]

Internet-Draft              SAP Network YANG               February 2022


       },
       {
         "sap-type": "vpls-bgp",
         "service-attachment-point": [
           {
             "attachment-id": "GE0/6/1",
             "description": "Ready to host SAPs",
             "interface-type": "ietf-sap-ntw:phy",
             "interface-role": "ietf-sap-ntw:uni",
             "sap-status": {
               "status": "ietf-vpn-common:op-up"
             }
           },
           {
             "attachment-id": "GE0/6/4",
             "description": "Ready to host SAPs",
             "interface-type": "ietf-sap-ntw:phy",
             "interface-role": "ietf-sap-ntw:uni",
             "sap-status": {
               "status": "ietf-vpn-common:op-up"
             }
           },
           {
             "attachment-id": "GE0/6/4.2",
             "description": "Another description",
             "interface-type": "ietf-sap-ntw:logical",
             "parent-termination-point": "GE0/6/4",
             "encapsulation-type": "ietf-vpn-common:vlan",
             "sap-status": {
               "status": "ietf-vpn-common:op-up"
             },
             "service-status": {
               "status": "ietf-vpn-common:op-up"
             }
           }
         ]
       }
     ]
   }

                                 Figure 10

   Figure 11 shows the message body of a response that is received from
   the network controller if the request includes a filter on the
   service type for a particular node:






Boucadair, et al.        Expires 15 August 2022                [Page 29]

Internet-Draft              SAP Network YANG               February 2022


   {
     "ietf-sap-ntw:service": [
       {
         "sap-type": "l3vpn",
         "service-attachment-point": [
           {
             "attachment-id": "GE0/6/1",
             "description": "Ready to host SAPs",
             "interface-type": "ietf-sap-ntw:phy",
             "interface-role": "ietf-sap-ntw:uni",
             "sap-status": {
               "status": "ietf-vpn-common:op-up"
             }
           },
           {
             "attachment-id": "GE0/6/4",
             "description": "Ready to host SAPs",
             "interface-type": "ietf-sap-ntw:phy",
             "interface-role": "ietf-sap-ntw:uni",
             "sap-status": {
               "status": "ietf-vpn-common:op-up"
             }
           },
           {
             "attachment-id": "GE0/6/4.1",
             "description": "A first SAP description",
             "interface-type": "ietf-sap-ntw:logical",
             "parent-termination-point": "GE0/6/4",
             "encapsulation-type": "ietf-vpn-common:vlan",
             "sap-status": {
               "status": "ietf-vpn-common:op-up"
             },
             "service-status": {
               "status": "ietf-vpn-common:op-up"
             }
           }
         ]
       }
     ]
   }

                                 Figure 11


Authors' Addresses






Boucadair, et al.        Expires 15 August 2022                [Page 30]

Internet-Draft              SAP Network YANG               February 2022


   Mohamed Boucadair (editor)
   Orange
   France

   Email: mohamed.boucadair@orange.com


   Oscar Gonzalez de Dios
   Telefonica
   Madrid
   Spain

   Email: oscar.gonzalezdedios@telefonica.com


   Samier Barguil
   Telefonica
   Madrid
   Spain

   Email: samier.barguilgiraldo.ext@telefonica.com


   Qin Wu
   Huawei
   101 Software Avenue, Yuhua District
   Nanjing
   Jiangsu, 210012
   China

   Email: bill.wu@huawei.com


   Victor Lopez
   Nokia
   Spain

   Email: victor.lopez@nokia.com













Boucadair, et al.        Expires 15 August 2022                [Page 31]
